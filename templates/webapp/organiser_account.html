{% extends 'webapp/base.html' %}
{% load staticfiles %}

{% block title_block %}
Organiser Account
{% endblock %}

{% block body_block %}
<section class="organiser-container">
  <h2 class="section-title">Welcome, {{ user.username }}!</h2>

  <div class="section-block">
    <h3>Your Events:</h3>
    {% if events %}
      <ul class="event-list">
        {% for event in events %}
          <li class="event-item clickable-card">
            <a href="{% url 'webapp:event_detail' event.id %}" class="event-card-link">
              <span>
                <strong>{{ event.title }}</strong> ({{ event.category.name }}) â€“ {{ event.date|date:"Y-m-d H:i" }}
              </span>
            </a>
            <span class="action-buttons">
              <a href="{% url 'webapp:edit_event' event.id %}" class="btn-secondary">Edit</a>
              <a href="{% url 'webapp:delete_event' event.id %}" class="btn-danger">Delete</a>
            </span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="empty-msg">You haven't created any events yet.</p>
    {% endif %}
  </div>

  <hr />

  <div class="section-block">
    <h3>Add New Event to a Category:</h3>
    <ul class="category-links">
      {% for category in categories %}
        <li>
          <a href="{% url 'webapp:add_event' category.name %}" class="category-chip">{{ category.name }}</a>
        </li>
      {% endfor %}
    </ul>
  </div>

  <div class="section-block">
    <p>
      <a href="{% url 'webapp:add_category' %}" class="btn-primary">+ Add a New Category</a>
    </p>
  </div>
</section>
{% endblock %}
