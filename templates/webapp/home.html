{% extends 'webapp/base.html' %}
{% load staticfiles %}

{% block title_block %}
Home Page
{% endblock %}

{% block body_block %}

<div class="container">
    <!-- Left Sidebar Categories -->
    <div class="categories">
        <h2>Categories</h2>
        <ul>
            {% for category in categories %}
                <li><a href="{% url 'webapp:categories' category_name=category.name %}">{{ category.name }}</a></li>
            {% endfor %}
        </ul>
    </div>

    <div class="content">
        <h2>Popular Events</h2>
        <div class="event-list">
            {% for event in popular_events %}
                <div class="event-card">
                    <a href="{% url 'webapp:event' event.id %}">
                        <img src="{% static 'images/event_placeholder.png' %}" alt="Event Photo">
                        <h3>{{ event.title }}</h3>
                    </a>
                    <p>Organized by: {{ event.organiser.username }}</p>
                    <p>📍 {{ event.location }} | 🗓️ {{ event.date|date:"F d, Y" }}</p>
                </div>
            {% empty %}
                <p>No popular events found.</p>
            {% endfor %}
        </div>

        <h2>Recently Added</h2>
        <div class="event-list">
            {% for event in recent_events %}
                <div class="event-card">
                    <a href="{% url 'webapp:event' event.id %}">
                        <img src="{% static 'images/event_placeholder.png' %}" alt="Event Photo">
                        <h3>{{ event.title }}</h3>
                    </a>
                    <p>Organized by: {{ event.organiser.username }}</p>
                    <p>📍 {{ event.location }} | 🗓️ {{ event.date|date:"F d, Y" }}</p>
                </div>
            {% empty %}
                <p>No recent events found.</p>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}
